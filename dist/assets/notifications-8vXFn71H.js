import{Q as f,c as N,b,r as w,j as e,C as c,d as x,R as m,e as y,f as v}from"./index-BRVCUzIT.js";import{B as d,a as r}from"./dropdown-menu-DdnnckdS.js";import{H as n}from"./header--JBEaVK1.js";import{C as i}from"./circle-check-big-DIzHHyic.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=f("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function B(){const{data:h,isLoading:o}=N({queryKey:["/api/notifications"]}),{settings:t}=b();w.useEffect(()=>{t.siteTitle&&(document.title=t.siteTitle),t.language&&(document.documentElement.lang=t.language,document.body.dir=t.language==="ar"?"rtl":"ltr")},[t.siteTitle,t.language]);const g=s=>{switch(s){case"urgent":return e.jsx(m,{className:"h-4 w-4 sm:h-5 sm:w-5 text-accent"});case"success":return e.jsx(i,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary"});default:return e.jsx(k,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}},u=s=>s.target==="urgent"?e.jsx(r,{className:"bg-red-600 text-white text-xs",children:"عاجل"}):s.target==="success"?e.jsx(r,{className:"bg-green-600 text-white text-xs",children:"نجاح"}):s.target==="head"?e.jsx(r,{className:"bg-purple-600 text-white text-xs",children:"رؤساء الأسر"}):s.target==="all"?e.jsx(r,{className:"bg-background0 text-white text-xs",children:"الكل"}):s.target==="specific"?e.jsx(r,{className:"bg-teal-600 text-white text-xs",children:"محدد"}):e.jsx(r,{variant:"default",className:"text-xs",children:"معلومات"});if(o)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(n,{}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-muted-foreground",children:"جاري تحميل التنبيهات..."})})]});const j=new Date,a=(h||[]).filter(s=>{const l=new Date(s.createdAt);return j.getTime()-l.getTime()<24*60*60*1e3}),p=a.filter(s=>s.target==="urgent").length;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(n,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2",children:"التنبيهات والإشعارات"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"آخر التنبيهات والرسائل الواردة من الإدارة"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx(c,{children:e.jsx(x,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:e.jsx(d,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),e.jsxs("div",{className:"mr-3 sm:mr-4",children:[e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"إجمالي التنبيهات"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:a.length})]})]})})}),e.jsx(c,{children:e.jsx(x,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-lg",children:e.jsx(m,{className:"h-5 w-5 sm:h-6 sm:w-6 text-accent"})}),e.jsxs("div",{className:"mr-3 sm:mr-4",children:[e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"تنبيهات عاجلة"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:p})]})]})})}),e.jsx(c,{children:e.jsx(x,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:e.jsx(i,{className:"h-5 w-5 sm:h-6 sm:w-6 text-secondary"})}),e.jsxs("div",{className:"mr-3 sm:mr-4",children:[e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"هذا الأسبوع"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:a.filter(s=>{const l=new Date;return l.setDate(l.getDate()-7),new Date(s.createdAt)>l}).length})]})]})})})]}),e.jsxs(c,{children:[e.jsx(y,{children:e.jsx(v,{className:"text-lg sm:text-xl",children:"قائمة التنبيهات"})}),e.jsx(x,{children:a&&a.length>0?e.jsx("div",{className:"space-y-3 sm:space-y-4",children:a.map(s=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6 hover:bg-background",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:g(s.target)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 gap-2",children:e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-foreground flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"break-words",children:s.title}),u(s)]})}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-3 leading-relaxed break-words",children:s.message}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-xs sm:text-sm text-muted-foreground",children:[e.jsxs("span",{children:["تاريخ الإرسال: ",new Date(s.createdAt).toLocaleString("ar-EG",{dateStyle:"short",timeStyle:"short"})]}),e.jsx("span",{children:"من: الإدارة"})]})]})]})},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(d,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"لا توجد تنبيهات حالياً"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"سيتم إشعارك عندما تصل تنبيهات جديدة"})]})})]})]})]})}export{B as default};

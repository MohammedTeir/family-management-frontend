import{t as ze,r as K,b as He,c as Ie,i as Be,j as e,T as ne,C as X,e as ie,f as oe,d as Z,x as R,B,U as ee,M as de,N as I,K as m,V as te,h as We,g as U,k as Y,W as Le,y as ce}from"./index-BRVCUzIT.js";import{S as se}from"./switch-CeNQc3pd.js";import{D as _e,d as Ue,a as Ye,b as Je,c as Oe,e as Ge}from"./dialog-D51Jx8ed.js";import{a as w}from"./dropdown-menu-DdnnckdS.js";import{E as me}from"./exceljs.min-Cz8xvZTz.js";import{B as Ke,H as qe,G as Qe,E as he,a as L}from"./jspdf.plugin.autotable-C81NVNa4.js";import{H as re}from"./header--JBEaVK1.js";import{P as xe}from"./printer-Bw-LSgjh.js";import{F as ge}from"./file-text-Bxr2bFQ2.js";import{F as ue}from"./file-spreadsheet-Bd2LZWmb.js";import{P as fe}from"./phone-FUN1W9cr.js";import{M as Ve}from"./map-pin-CJflmUvF.js";import{T as be}from"./triangle-alert-BLBGP7Kv.js";import"./index-uwi08Yf3.js";function xt(){const{toast:C}=ze(),[q,pe]=K.useState(!0),[ae,je]=K.useState(!0),[le,Ne]=K.useState(!0),[ye,J]=K.useState(!1),{settings:we}=He(),{data:t,isLoading:Fe,error:Xe}=Ie({queryKey:["/api/family"]}),p=t,u=Array.isArray(p==null?void 0:p.members)?p.members:[],n=u.filter(l=>Be(l.birthDate)),De=u.length,Se=u.filter(l=>l.gender==="male").length,ve=u.filter(l=>l.gender==="female").length,Ce=p&&typeof p=="object"&&"totalMembers"in p?p.totalMembers:0,Ae=p&&typeof p=="object"&&"numMales"in p?p.numMales:0,Te=p&&typeof p=="object"&&"numFemales"in p?p.numFemales:0,M=l=>{if(!l)return"غير محدد";const a=new Date,s=new Date(l),d=a.getFullYear()-s.getFullYear(),c=a.getMonth()-s.getMonth(),f=a.getDate()-s.getDate();let N=d,b=c,D=f;if(D<0){const j=new Date(a.getFullYear(),a.getMonth()-1,s.getDate());D=Math.floor((a.getTime()-j.getTime())/(1e3*60*60*24)),b--}return b<0&&(b+=12,N--),N===0?b===0?`‫${D} يوم‬`:D===0?`‫${b} شهر‬`:`‫${b} شهر و ${D} يوم‬`:`‫${N} سنة‬`},Pe=()=>{window.print(),C({title:"طباعة",description:"تم إرسال المستند للطابعة"})},$e=async()=>{try{const l=()=>t.isAbroad?t.abroadLocation||"مغترب بالخارج":t.isDisplaced?"نازح":"مقيم",a=r=>ce(r).replace(/\u202B/g,"").replace(/\u202C/g,""),s=new he("p","mm","a4");let d=!1;try{d=await loadAmiriFonts(s),d?(console.log("Amiri fonts loaded successfully"),s.setFont("Amiri","normal")):(console.log("Falling back to default font"),s.setFont("helvetica"))}catch(r){console.error("Font loading failed:",r),s.setFont("helvetica"),d=!1}s.setFontSize(16),s.setFillColor(76,175,80),s.rect(10,10,190,15,"F"),s.setTextColor(255,255,255),s.text("بيانات الأسرة - تقرير مفصل",105,20,{align:"center"}),s.setTextColor(0,0,0),s.setFontSize(12);const c=new Date,f=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(c.getDate()).padStart(2,"0")}`,N=c.getHours(),b=c.getMinutes(),D=N>=12?"م":"ص",j=N%12||12,P=`${D} ${j}:${String(b).padStart(2,"0")}`;s.text(`تاريخ التصدير: ${f}`,105,35,{align:"center"}),s.text(`وقت التصدير: ${P}`,105,42,{align:"center"}),s.setFontSize(14),s.setFillColor(76,175,80),s.rect(10,50,190,8,"F"),s.setTextColor(255,255,255),s.text("بيانات الأسرة",105,56,{align:"center"}),s.setTextColor(0,0,0),s.setFontSize(10);const S=[["اسم الزوج رباعي",t.husbandName||""],["رقم هوية الزوج",t.husbandID||""],["عمل الزوج",t.husbandJob||""],["اسم الزوجة رباعي",t.wifeName||""],["رقم هوية الزوجة",t.wifeID||""],["عمل الزوجة",t.wifeJob||""],["هل الزوجة حامل",t.wifePregnant?"نعم":"لا"],["رقم الجوال للتواصل",t.primaryPhone||""],["رقم الجوال البديل",t.secondaryPhone||""],["السكن الأصلي",t.originalResidence||""],["حالة السكن الحالي",l()],["الاضرار الناجمة عن حرب 2023",t.warDamage2023?t.warDamageDescription||"نعم":"لا"],["الفرع",U(t.branch)||""],["هل يوجد افراد ذوي اعاقة في العائلة",t.hasDisabledMembers?"نعم":"لا"],["هل لديك ابناء اقل من سنتين",t.hasChildrenUnderTwo?"نعم":"لا"],["إجمالي أفراد الأسرة",(t.totalMembers||0).toString()],["عدد الذكور",(t.numMales||0).toString()],["عدد الإناث",(t.numFemales||0).toString()],["عدد الأطفال",n.length.toString()],["الحالة الاجتماعية",Y(t.socialStatus)||""],["مغترب بالخارج",t.isAbroad?"نعم":"لا"]];if(L(s,{startY:70,head:[["المعلومات","البيان"]],body:S.map(r=>[r[1],r[0]]),theme:"grid",headStyles:{fillColor:[76,175,80],textColor:[255,255,255],fontStyle:"bold",font:d?"Amiri":"helvetica",halign:"center"},styles:{fontSize:9,cellPadding:3,font:d?"Amiri":"helvetica",textColor:[0,0,0]},columnStyles:{0:{cellMinWidth:40,halign:"center"},1:{cellMinWidth:60,halign:"right"}}}),u&&u.length>0){s.addPage(),s.setFontSize(14),s.setFillColor(76,175,80),s.rect(10,10,190,8,"F"),s.setTextColor(255,255,255),s.text("أفراد الأسرة",105,16,{align:"center"}),s.setTextColor(0,0,0),s.setFontSize(10);const r=u.map(h=>[h.isDisabled?h.disabilityType||"غير محدد":"",h.isDisabled?"نعم":"لا",I(h.relationship),h.gender==="male"?"ذكر":"أنثى",a(h.birthDate),h.birthDate||"",h.memberID||"",h.fullName||""]);L(s,{startY:30,head:[["نوع الإعاقة","إعاقة","القرابة","الجنس","العمر","تاريخ الميلاد","رقم الهوية","الاسم الكامل"]],body:r,theme:"grid",headStyles:{fillColor:[76,175,80],textColor:[255,255,255],fontStyle:"bold",font:d?"Amiri":"helvetica",halign:"center"},styles:{fontSize:8,cellPadding:2,font:d?"Amiri":"helvetica",textColor:[0,0,0]},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"},6:{halign:"center"},7:{halign:"right"}}})}if(n.length>0){s.addPage(),s.setFontSize(14),s.setFillColor(76,175,80),s.rect(10,10,190,8,"F"),s.setTextColor(255,255,255),s.text("تفاصيل الأطفال",105,16,{align:"center"}),s.setTextColor(0,0,0),s.setFontSize(10);const h=[...n].sort((x,T)=>{const E=m(x.birthDate),k=m(T.birthDate);return E<2&&k>=2?-1:E>=2&&k<2?1:E-k}).map(x=>[x.isDisabled?x.disabilityType||"غير محدد":"",x.isDisabled?"نعم":"لا",I(x.relationship),x.gender==="male"?"ذكر":"أنثى",a(x.birthDate),x.birthDate||"",x.memberID||"",x.fullName||""]);L(s,{startY:30,head:[["نوع الإعاقة","إعاقة","القرابة","الجنس","العمر","تاريخ الميلاد","رقم الهوية","الاسم الكامل"]],body:h,theme:"grid",headStyles:{fillColor:[76,175,80],textColor:[255,255,255],fontStyle:"bold",font:d?"Amiri":"helvetica",halign:"center"},styles:{fontSize:8,cellPadding:2,font:d?"Amiri":"helvetica",textColor:[0,0,0]},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"},6:{halign:"center"},7:{halign:"right"}}})}s.addPage(),s.setFontSize(14),s.setFillColor(76,175,80),s.rect(10,10,190,8,"F"),s.setTextColor(255,255,255),s.text("الملخص الإحصائي",105,16,{align:"center"}),s.setTextColor(0,0,0),s.setFontSize(10);const A=[["إجمالي أفراد الأسرة",(t.totalMembers||0).toString()],["عدد الذكور",(t.numMales||0).toString()],["عدد الإناث",(t.numFemales||0).toString()],["عدد الأطفال",n.length.toString()],["الأبناء",n.filter(r=>r.gender==="male").length.toString()],["البنات",n.filter(r=>r.gender==="female").length.toString()],["الحالة الاجتماعية",t.socialStatus?Y(t.socialStatus):"غير محدد"],["حالة الحمل",t.wifePregnant?"حامل":"غير حامل"],["نازح",t.isDisplaced?"نعم":"لا"],["موقع النزوح",t.isDisplaced&&t.displacedLocation||""],["مغترب بالخارج",t.isAbroad?"نعم":"لا"],["أضرار الحرب 2023",t.warDamage2023?"نعم":"لا"],["تفاصيل الأضرار",t.warDamage2023&&t.warDamageDescription||""],["إجمالي المعاقين",(u?u.filter(r=>r.isDisabled).length:0).toString()],["الأطفال المعاقين",n.filter(r=>r.isDisabled).length.toString()],["الأطفال أقل من سنتين",n.filter(r=>m(r.birthDate)<2).length.toString()],["الفرع",U(t.branch)||"غير محدد"],["تاريخ التصدير",f],["وقت التصدير",P],["ملاحظات إدارية",t.adminNotes||"لا توجد ملاحظات"]];L(s,{startY:30,head:[["المعلومات","البيان"]],body:A.map(r=>[r[1],r[0]]),theme:"grid",headStyles:{fillColor:[76,175,80],textColor:[255,255,255],fontStyle:"bold",font:d?"Amiri":"helvetica",halign:"center"},styles:{fontSize:9,cellPadding:3,font:d?"Amiri":"helvetica",textColor:[0,0,0]},columnStyles:{0:{cellMinWidth:40,halign:"center"},1:{cellMinWidth:60,halign:"right"}}});const $=`family_data_${t.husbandName}_${f}.pdf`;s.save($),C({title:"تم التصدير بنجاح",description:`تم حفظ ملف PDF باسم: ${$}`,variant:"default"})}catch(l){console.error("Error exporting to PDF:",l),C({title:"خطأ في التصدير",description:"حدث خطأ أثناء تصدير البيانات إلى PDF",variant:"destructive"})}},ke=async()=>{try{const l=()=>t.isAbroad?t.abroadLocation||"مغترب بالخارج":t.isDisplaced?"نازح":"مقيم",a=new me.Workbook,s={fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF4CAF50"}},font:{color:{argb:"FFFFFFFF"},bold:!0,size:16},alignment:{horizontal:"center",vertical:"middle"}},d={fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF4CAF50"}},font:{color:{argb:"FFFFFFFF"},bold:!0,size:12},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin",color:{argb:"FFFFFFFF"}},bottom:{style:"thin",color:{argb:"FFFFFFFF"}},left:{style:"thin",color:{argb:"FFFFFFFF"}},right:{style:"thin",color:{argb:"FFFFFFFF"}}}},c={alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},f=a.addWorksheet("بيانات الأسرة"),N=[],b=[];t.wifeName,N.push("هل الزوجة حامل","عمل الزوجة","عمر الزوجة","تاريخ ميلاد الزوجة","رقم هوية الزوجة","اسم الزوجة رباعي"),b.push(t.wifePregnant?"نعم":"لا",t.wifeJob||"",M(t.wifeBirthDate||""),t.wifeBirthDate||"",t.wifeID||"",t.wifeName||"");const D=["مغترب بالخارج","الحالة الاجتماعية","عدد الأطفال","عدد الإناث","عدد الذكور","إجمالي أفراد الأسرة","هل لديك ابناء اقل من سنتين","هل يوجد افراد ذوي اعاقة في العائلة","الفرع","الاضرار الناجمة عن حرب 2023","حالة السكن الحالي","السكن الأصلي","رقم الجوال البديل","رقم الجوال للتواصل",...N,"عمل الزوج","عمر الزوج","تاريخ ميلاد الزوج","رقم هوية الزوج","اسم الزوج رباعي"],j=[t.isAbroad?"نعم":"لا",Y(t.socialStatus)||"",n.length,t.numFemales||0,t.numMales||0,t.totalMembers||0,t.hasChildrenUnderTwo?"نعم":"لا",t.hasDisabledMembers?"نعم":"لا",U(t.branch)||"",t.warDamage2023?t.warDamageDescription||"نعم":"لا",l(),t.originalResidence||"",t.secondaryPhone||"",t.primaryPhone||"",...b,t.husbandJob||"",M(t.husbandBirthDate||""),t.husbandBirthDate||"",t.husbandID||"",t.husbandName||""],P=f.addRow(["بيانات الأسرة - تقرير مفصل"]);P.getCell(1).style=s,P.height=30,f.mergeCells(`A1:${String.fromCharCode(65+D.length-1)}1`);const S=f.addRow(D);S.height=25,S.eachCell(o=>{o.style=d});const A=f.addRow(j);if(A.height=20,A.eachCell(o=>{o.style=c}),[18,20,15,15,15,20,25,30,25,30,20,25,20,20,15,20,15,20,20,25,20,15,20,20,25].forEach((o,i)=>{f.getColumn(i+1).width=o}),u&&u.length>0){const o=a.addWorksheet("أفراد الأسرة"),i=["نوع الإعاقة","هل يوجد إعاقة","القرابة","الجنس","العمر","تاريخ الميلاد","رقم الهوية","الاسم الكامل"],y=o.addRow(["أفراد الأسرة"]);y.getCell(1).style=s,y.height=30,o.mergeCells(`A1:${String.fromCharCode(65+i.length-1)}1`);const v=o.addRow(i);v.height=25,v.eachCell(F=>{F.style=d}),u.forEach(F=>{const g=[F.isDisabled?F.disabilityType||"غير محدد":"",F.isDisabled?"نعم":"لا",I(F.relationship),F.gender==="male"?"ذكر":"أنثى",M(F.birthDate),F.birthDate||"",F.memberID||"",F.fullName||""],z=o.addRow(g);z.height=20,z.eachCell(H=>{H.style=c})}),[20,15,15,12,12,15,18,30].forEach((F,g)=>{o.getColumn(g+1).width=F})}if(n.length>0){const o=a.addWorksheet("الأطفال"),i=["نوع الإعاقة","هل يوجد إعاقة","القرابة","الجنس","العمر","تاريخ الميلاد","رقم الهوية","الاسم الكامل"],y=o.addRow(["تفاصيل الأطفال"]);y.getCell(1).style=s,y.height=30,o.mergeCells(`A1:${String.fromCharCode(65+i.length-1)}1`);const v=o.addRow(i);v.height=25,v.eachCell(g=>{g.style=d}),[...n].sort((g,z)=>{const H=m(g.birthDate),_=m(z.birthDate);return H<2&&_>=2?-1:H>=2&&_<2?1:H-_}).forEach(g=>{const z=[g.isDisabled?g.disabilityType||"غير محدد":"",g.isDisabled?"نعم":"لا",I(g.relationship),g.gender==="male"?"ذكر":"أنثى",M(g.birthDate),g.birthDate||"",g.memberID||"",g.fullName||""],H=o.addRow(z);H.height=20,H.eachCell(_=>{_.style=c})}),[20,15,15,12,12,15,18,30].forEach((g,z)=>{o.getColumn(z+1).width=g})}const r=a.addWorksheet("الملخص"),h=["المعلومات","القيمة"],x=[["إجمالي أفراد الأسرة",(t.totalMembers||0).toString()],["عدد الذكور",(t.numMales||0).toString()],["عدد الإناث",(t.numFemales||0).toString()],["عدد الأطفال",n.length.toString()],["الأبناء",n.filter(o=>o.gender==="male").length.toString()],["البنات",n.filter(o=>o.gender==="female").length.toString()],["الحالة الاجتماعية",t.socialStatus?Y(t.socialStatus):"غير محدد"],["حالة الحمل",t.wifePregnant?"حامل":"غير حامل"],["نازح",t.isDisplaced?"نعم":"لا"],["موقع النزوح",t.isDisplaced&&t.displacedLocation||""],["مغترب بالخارج",t.isAbroad?"نعم":"لا"],["أضرار الحرب 2023",t.warDamage2023?"نعم":"لا"],["تفاصيل الأضرار",t.warDamage2023&&t.warDamageDescription||""],["إجمالي المعاقين",(u?u.filter(o=>o.isDisabled).length:0).toString()],["الأطفال المعاقين",n.filter(o=>o.isDisabled).length.toString()],["الأطفال أقل من سنتين",n.filter(o=>m(o.birthDate)<2).length.toString()],["الفرع",U(t.branch)||"غير محدد"],["تاريخ التصدير",new Date().toLocaleDateString("ar-EG")],["وقت التصدير",new Date().toLocaleTimeString("ar-EG")],["ملاحظات إدارية",t.adminNotes||"لا توجد ملاحظات"]],T=r.addRow(["الملخص الإحصائي"]);T.getCell(1).style=s,T.height=30,r.mergeCells("A1:B1");const E=r.addRow(h);E.height=25,E.eachCell(o=>{o.style=d}),x.forEach(([o,i])=>{const y=r.addRow([o,i]);y.height=20,y.eachCell(v=>{v.style=c})}),r.getColumn(1).width=30,r.getColumn(2).width=20;const k=`family_data_${t.husbandName}_${new Date().toISOString().split("T")[0]}.xlsx`,O=await a.xlsx.writeBuffer(),Q=new Blob([O],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),G=window.URL.createObjectURL(Q),W=document.createElement("a");W.href=G,W.download=k,W.click(),window.URL.revokeObjectURL(G),C({title:"تم التصدير بنجاح",description:`تم حفظ ملف Excel باسم: ${k}`,variant:"default"})}catch(l){console.error("Error exporting to Excel:",l),C({title:"خطأ في التصدير",description:"حدث خطأ أثناء تصدير البيانات إلى Excel",variant:"destructive"})}},Re=()=>{J(!1),C({title:"طباعة بيانات الأطفال",description:"تم إرسال بيانات الأطفال للطابعة"})},Me=async()=>{try{J(!1);const l=r=>ce(r).replace(/\u202B/g,"").replace(/\u202C/g,""),a=new he("p","mm","a4");let s=!1;try{s=await loadAmiriFonts(a),s?(console.log("Amiri fonts loaded successfully"),a.setFont("Amiri","normal")):(console.log("Falling back to default font"),a.setFont("helvetica"))}catch(r){console.error("Font loading failed:",r),a.setFont("helvetica"),s=!1}a.setFontSize(16),a.setFillColor(76,175,80),a.rect(10,10,190,15,"F"),a.setTextColor(255,255,255),a.text("تفاصيل الأطفال - تقرير مفصل",105,20,{align:"center"}),a.setTextColor(0,0,0),a.setFontSize(12);const d=new Date,c=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`,f=d.getHours(),N=d.getMinutes(),b=f>=12?"م":"ص",D=f%12||12,j=`${b} ${D}:${String(N).padStart(2,"0")}`;a.text(`اسم رب الأسرة: ${t.husbandName}`,105,35,{align:"center"}),a.text(`تاريخ التصدير: ${c}`,105,42,{align:"center"}),a.text(`وقت التصدير: ${j}`,105,49,{align:"center"}),a.setFontSize(14),a.setFillColor(76,175,80),a.rect(10,60,190,8,"F"),a.setTextColor(255,255,255),a.text("تفاصيل الأطفال",105,66,{align:"center"}),a.setTextColor(0,0,0),a.setFontSize(10);const S=[...n].sort((r,h)=>{const x=m(r.birthDate),T=m(h.birthDate);return x<2&&T>=2?-1:x>=2&&T<2?1:x-T}).map(r=>[r.isDisabled?r.disabilityType||"غير محدد":"",r.isDisabled?"نعم":"لا",I(r.relationship),r.gender==="male"?"ذكر":"أنثى",l(r.birthDate),r.birthDate||"",r.memberID||"",r.fullName||""]);L(a,{startY:80,head:[["نوع الإعاقة","إعاقة","القرابة","الجنس","العمر","تاريخ الميلاد","رقم الهوية","الاسم الكامل"]],body:S,theme:"grid",headStyles:{fillColor:[76,175,80],textColor:[255,255,255],fontStyle:"bold",font:s?"Amiri":"helvetica",halign:"center"},styles:{fontSize:8,cellPadding:2,font:s?"Amiri":"helvetica",textColor:[0,0,0]},columnStyles:{0:{halign:"center"},1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"},6:{halign:"center"},7:{halign:"right"}}}),a.addPage(),a.setFontSize(14),a.setFillColor(76,175,80),a.rect(10,10,190,8,"F"),a.setTextColor(255,255,255),a.text("الملخص الإحصائي للأطفال",105,16,{align:"center"}),a.setTextColor(0,0,0),a.setFontSize(10);const A=[["إجمالي الأطفال",n.length.toString()],["الأبناء",n.filter(r=>r.gender==="male").length.toString()],["البنات",n.filter(r=>r.gender==="female").length.toString()],["الأطفال المعاقين",n.filter(r=>r.isDisabled).length.toString()],["الأطفال أقل من سنة",n.filter(r=>m(r.birthDate)<1).length.toString()],["الأطفال من سنة إلى سنتين",n.filter(r=>m(r.birthDate)>=1&&m(r.birthDate)<2).length.toString()],["الأطفال من سنتين إلى 5 سنوات",n.filter(r=>m(r.birthDate)>=2&&m(r.birthDate)<5).length.toString()],["الأطفال من 5 سنوات إلى 12 سنة",n.filter(r=>m(r.birthDate)>=5&&m(r.birthDate)<12).length.toString()],["الأطفال من 12 سنة إلى 18 سنة",n.filter(r=>m(r.birthDate)>=12&&m(r.birthDate)<18).length.toString()],["اسم رب الأسرة",t.husbandName||""],["تاريخ التصدير",c],["وقت التصدير",j]];L(a,{startY:30,head:[["المعلومات","البيان"]],body:A.map(r=>[r[1],r[0]]),theme:"grid",headStyles:{fillColor:[76,175,80],textColor:[255,255,255],fontStyle:"bold",font:s?"Amiri":"helvetica",halign:"center"},styles:{fontSize:9,cellPadding:3,font:s?"Amiri":"helvetica",textColor:[0,0,0]},columnStyles:{0:{cellMinWidth:40,halign:"center"},1:{cellMinWidth:60,halign:"right"}}});const $=`children_data_${t.husbandName}_${c}.pdf`;a.save($),C({title:"تم التصدير بنجاح",description:`تم حفظ ملف PDF باسم: ${$}`,variant:"default"})}catch(l){console.error("Error exporting children to PDF:",l),C({title:"خطأ في التصدير",description:"حدث خطأ أثناء تصدير بيانات الأطفال إلى PDF",variant:"destructive"})}},Ee=async()=>{try{J(!1);const l=new me.Workbook,a={fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF4CAF50"}},font:{color:{argb:"FFFFFFFF"},bold:!0,size:16},alignment:{horizontal:"center",vertical:"middle"}},s={fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF4CAF50"}},font:{color:{argb:"FFFFFFFF"},bold:!0,size:12},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin",color:{argb:"FFFFFFFF"}},bottom:{style:"thin",color:{argb:"FFFFFFFF"}},left:{style:"thin",color:{argb:"FFFFFFFF"}},right:{style:"thin",color:{argb:"FFFFFFFF"}}}},d={alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},c=l.addWorksheet("بيانات الأطفال"),f=["نوع الإعاقة","هل يوجد إعاقة","القرابة","الجنس","العمر","تاريخ الميلاد","رقم الهوية","الاسم الكامل"],N=c.addRow([`تفاصيل الأطفال - ${t.husbandName}`]);N.getCell(1).style=a,N.height=30,c.mergeCells(`A1:${String.fromCharCode(65+f.length-1)}1`);const b=c.addRow(f);b.height=25,b.eachCell(i=>{i.style=s}),n.forEach(i=>{const y=[i.isDisabled?i.disabilityType||"غير محدد":"",i.isDisabled?"نعم":"لا",I(i.relationship),i.gender==="male"?"ذكر":"أنثى",M(i.birthDate),i.birthDate||"",i.memberID||"",i.fullName||""],v=c.addRow(y);v.height=20,v.eachCell(V=>{V.style=d})}),[20,15,15,12,12,15,18,30].forEach((i,y)=>{c.getColumn(y+1).width=i});const j=l.addWorksheet("ملخص إحصائي للأطفال"),P=["التفاصيل","القيمة","المعلومات"],S=new Date,A=`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}-${String(S.getDate()).padStart(2,"0")}`,$=S.getHours(),r=S.getMinutes(),h=$>=12?"م":"ص",x=$%12||12,T=`${h} ${x}:${String(r).padStart(2,"0")}`,E=[["",n.length,"إجمالي الأطفال"],["",n.filter(i=>i.gender==="male").length,"الأبناء"],["",n.filter(i=>i.gender==="female").length,"البنات"],["",n.filter(i=>i.isDisabled).length,"الأطفال المعاقين"],["",n.filter(i=>m(i.birthDate)<1).length,"الأطفال أقل من سنة"],["",n.filter(i=>m(i.birthDate)>=1&&m(i.birthDate)<2).length,"الأطفال من سنة إلى سنتين"],["",t.husbandName||"","اسم رب الأسرة"],["",A,"تاريخ التصدير"],["",T,"وقت التصدير"]],k=j.addRow(["ملخص إحصائي للأطفال"]);k.getCell(1).style=a,k.height=30,j.mergeCells(`A1:${String.fromCharCode(65+P.length-1)}1`);const O=j.addRow(P);O.height=25,O.eachCell(i=>{i.style=s}),E.forEach(i=>{const y=j.addRow(i);y.height=20,y.eachCell(v=>{v.style=d})}),j.getColumn(1).width=40,j.getColumn(2).width=20,j.getColumn(3).width=30;const Q=await l.xlsx.writeBuffer(),G=new Blob([Q],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),W=window.URL.createObjectURL(G),o=document.createElement("a");o.href=W,o.download=`children_data_${t.husbandName}_${A}.xlsx`,o.click(),window.URL.revokeObjectURL(W),C({title:"تم التصدير بنجاح",description:`تم حفظ ملف Excel باسم: children_data_${t.husbandName}_${A}.xlsx`,variant:"default"})}catch(l){console.error("Error exporting children to Excel:",l),C({title:"خطأ في التصدير",description:"حدث خطأ أثناء تصدير بيانات الأطفال إلى Excel",variant:"destructive"})}};return Fe?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(re,{}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-muted-foreground",children:"جاري تحميل البيانات..."})})]}):!t||typeof t!="object"?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(re,{}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-muted-foreground",children:"لم يتم العثور على بيانات الأسرة"})})]}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(re,{}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[e.jsxs("div",{className:"text-center mb-8 print-only",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"بيانات الأسرة - تقرير مفصل"}),e.jsxs("p",{className:"text-muted-foreground",children:["تاريخ الطباعة: ",ne()]})]}),e.jsxs(X,{className:"mb-4 sm:mb-6 no-print",children:[e.jsx(ie,{children:e.jsx(oe,{className:"text-lg sm:text-xl",children:"إعدادات العرض والطباعة"})}),e.jsxs(Z,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(se,{id:"showSensitiveInfo",checked:q,onCheckedChange:pe}),e.jsx(R,{htmlFor:"showSensitiveInfo",children:"عرض المعلومات الحساسة"})]}),e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(se,{id:"showMembers",checked:ae,onCheckedChange:je}),e.jsx(R,{htmlFor:"showMembers",children:"عرض أفراد الأسرة"})]}),e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(se,{id:"showHousingInfo",checked:le,onCheckedChange:Ne}),e.jsx(R,{htmlFor:"showHousingInfo",children:"عرض بيانات السكن"})]}),e.jsxs(_e,{open:ye,onOpenChange:J,children:[e.jsx(Ue,{asChild:!0,children:e.jsxs(B,{variant:"outline",className:"w-full text-sm sm:text-base",children:[e.jsx(ee,{className:"h-4 w-4 ml-2"}),"بيانات الأطفال"]})}),e.jsxs(Ye,{className:"max-w-4xl",children:[e.jsxs(Je,{children:[e.jsxs(Oe,{className:"text-center",children:["بيانات الأطفال - ",t.husbandName]}),e.jsx(Ge,{className:"text-center",children:"عرض تفاصيل جميع الأطفال في الأسرة مع إمكانية التصدير والطباعة"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:n.length}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"إجمالي الأطفال"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:n.filter(l=>l.gender==="male").length}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"الأبناء"})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-pink-50 rounded-lg",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-pink-600",children:n.filter(l=>l.gender==="female").length}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"البنات"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-background",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"الاسم الكامل"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"رقم الهوية"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"تاريخ الميلاد"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"العمر"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"الجنس"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"القرابة"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"إعاقة"})]})}),e.jsx("tbody",{children:n.map(l=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.fullName}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.memberID||"غير محدد"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.birthDate}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsx(w,{variant:"outline",children:M(l.birthDate)})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:de(l.gender)}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:I(l.relationship)}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.isDisabled?e.jsx(w,{variant:"destructive",children:"نعم"}):e.jsx(w,{variant:"secondary",children:"لا"})})]},l.id))})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-3 pt-4",children:[e.jsxs(B,{onClick:Re,variant:"outline",className:"w-full sm:w-auto text-sm sm:text-base",children:[e.jsx(xe,{className:"h-4 w-4 ml-2"}),"طباعة"]}),e.jsxs(B,{onClick:Me,variant:"outline",className:"w-full sm:w-auto text-sm sm:text-base",children:[e.jsx(ge,{className:"h-4 w-4 ml-2"}),"PDF"]}),e.jsxs(B,{onClick:Ee,variant:"outline",className:"w-full sm:w-auto text-sm sm:text-base",children:[e.jsx(ue,{className:"h-4 w-4 ml-2"}),"Excel"]})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 justify-center",children:[e.jsxs(B,{onClick:Pe,className:"bg-primary text-primary-foreground w-full sm:w-auto text-sm sm:text-base",children:[e.jsx(xe,{className:"h-4 w-4 ml-2"}),"طباعة"]}),e.jsxs(B,{onClick:$e,className:"bg-red-600 text-white hover:bg-red-700 w-full sm:w-auto text-sm sm:text-base",children:[e.jsx(ge,{className:"h-4 w-4 ml-2"}),"PDF"]}),e.jsxs(B,{onClick:ke,className:"bg-green-600 text-white hover:bg-green-700 w-full sm:w-auto text-sm sm:text-base",children:[e.jsx(ue,{className:"h-4 w-4 ml-2"}),"Excel"]})]})]})]}),e.jsx(X,{className:"print-card",children:e.jsxs(Z,{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4 pb-2 border-b border-gray-300 flex items-center",children:[e.jsx(Ke,{className:"h-5 w-5 ml-2"}),"بيانات رب الأسرة"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"الاسم الرباعي"}),e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.husbandName})]}),q&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"رقم الهوية"}),e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.husbandID})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"تاريخ الميلاد"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.husbandBirthDate}),e.jsxs(w,{variant:"outline",className:"text-xs w-fit",children:[m(t.husbandBirthDate)," سنة"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"المهنة"}),e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.husbandJob})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"رقم الجوال الأساسي"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2 text-muted-foreground"}),e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.primaryPhone})]})]}),t.secondaryPhone&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"رقم الجوال البديل"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2 text-muted-foreground"}),e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.secondaryPhone})]})]})]})]}),t.wife&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4 pb-2 border-b border-gray-300 flex items-center",children:[e.jsx(qe,{className:"h-5 w-5 ml-2"}),"بيانات الزوجة"]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"border-l-4 border-pink-400 pl-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-3",children:"الزوجة"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"الاسم الرباعي"}),e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.wifeName})]}),q&&t.wifeID&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"رقم الهوية"}),e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.wifeID})]}),t.wifeBirthDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"تاريخ الميلاد"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.wifeBirthDate}),e.jsxs(w,{variant:"outline",className:"text-xs w-fit",children:[m(t.wifeBirthDate)," سنة"]})]})]}),t.wifeJob&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"المهنة"}),e.jsx("p",{className:"text-base sm:text-lg text-foreground",children:t.wifeJob})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"حالة الحمل"}),e.jsx(w,{variant:t.wifePregnant?"destructive":"secondary",className:"text-xs",children:t.wifePregnant?"حامل":"غير حامل"})]})]})]},t.id||"wife")})]}),le&&e.jsxs(X,{className:"mb-6",children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"معلومات السكن"]})}),e.jsx(Z,{className:"space-y-3 sm:space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-muted-foreground",children:"المسكن الأصلي"}),e.jsx("p",{className:"text-sm text-foreground mt-1",children:(t==null?void 0:t.originalResidence)||"غير محدد"})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-muted-foreground",children:"حالة السكن الحالي"}),e.jsx("div",{className:"mt-1",children:t!=null&&t.isAbroad?e.jsxs(w,{variant:"destructive",className:"text-xs",children:[e.jsx(Ve,{className:"h-3 w-3 ml-1"}),"مغترب بالخارج"]}):t!=null&&t.isDisplaced?e.jsxs(w,{variant:"destructive",className:"text-xs",children:[e.jsx(be,{className:"h-3 w-3 ml-1"}),"نازح"]}):e.jsxs(w,{variant:"secondary",className:"text-xs",children:[e.jsx(te,{className:"h-3 w-3 ml-1"}),"مقيم"]})})]}),(t==null?void 0:t.isDisplaced)&&e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-muted-foreground",children:"موقع النزوح"}),e.jsx("p",{className:"text-sm text-foreground mt-1",children:(t==null?void 0:t.displacedLocation)||"غير محدد"})]}),(t==null?void 0:t.isAbroad)&&e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-muted-foreground",children:"الموقع في الخارج"}),e.jsx("p",{className:"text-sm text-foreground mt-1",children:(t==null?void 0:t.abroadLocation)||"غير محدد"})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-muted-foreground",children:"أضرار الحرب 2023"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:t!=null&&t.warDamage2023?e.jsxs(w,{variant:"destructive",className:"text-xs",children:[e.jsx(be,{className:"h-3 w-3 ml-1"}),"متضرر (",We(t==null?void 0:t.warDamageDescription),")"]}):e.jsxs(w,{variant:"secondary",className:"text-xs",children:[e.jsx(te,{className:"h-3 w-3 ml-1"}),"غير متضرر"]})})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-muted-foreground",children:"الفرع"}),e.jsx("p",{className:"text-sm text-foreground mt-1",children:U(t==null?void 0:t.branch)})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4 pb-2 border-b border-gray-300 flex items-center",children:[e.jsx(ee,{className:"h-5 w-5 ml-2"}),"الحالة العامة للأسرة"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:De}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"إجمالي أفراد الأسرة  (محسوب)"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["محفوظ: ",Ce]})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-secondary",children:Se}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"عدد الذكور (محسوب)"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["محفوظ: ",Ae]})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-pink-50 rounded-lg",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-pink-600",children:ve}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"عدد الإناث (محسوب)"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["محفوظ: ",Te]})]}),e.jsxs("div",{className:"text-center p-3 sm:p-4 bg-yellow-50 rounded-lg",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:n.length}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"عدد الأطفال (تحت 2 سنة)"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:t.socialStatus&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"الحالة الاجتماعية:"}),e.jsx(w,{variant:"outline",className:"bg-blue-100 text-blue-800 text-xs w-fit",children:Y(t.socialStatus)})]})})]}),ae&&u&&u.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4 pb-2 border-b border-gray-300 flex items-center",children:[e.jsx(ee,{className:"h-5 w-5 ml-2"}),"أفراد الأسرة"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-background",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"الاسم الكامل"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"رقم الهوية"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"تاريخ الميلاد"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"العمر"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"الجنس"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"القرابة"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-right font-medium text-muted-foreground",children:"إعاقة"})]})}),e.jsx("tbody",{children:u.map(l=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.fullName}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.memberID||"غير محدد"}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.birthDate}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsx(w,{variant:"outline",children:M(l.birthDate)})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:de(l.gender)}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:I(l.relationship)}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.isDisabled?e.jsx(w,{variant:"destructive",children:"نعم"}):e.jsx(w,{variant:"secondary",children:"لا"})})]},l.id))})]})})]}),t.adminNotes&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-foreground mb-4 pb-2 border-b border-gray-300 flex items-center",children:[e.jsx(Qe,{className:"h-5 w-5 ml-2"}),"ملاحظات إدارية"]}),e.jsx("div",{className:"bg-background p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:t.adminNotes})})]}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-300 text-center text-sm text-muted-foreground print-only",children:[e.jsxs("p",{children:["تم إنشاء هذا التقرير بواسطة ",we.siteName||"نظام إدارة البيانات العائلية"]}),e.jsxs("p",{className:"mt-2",children:["تاريخ الطباعة: ",ne()," | الوقت: ",Le()]}),e.jsxs("div",{className:"mt-8 flex justify-between",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"border-t border-gray-400 pt-2 mt-8 w-32",children:e.jsx("p",{children:"توقيع المسؤول"})})}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"border-t border-gray-400 pt-2 mt-8 w-32",children:e.jsx("p",{children:"ختم الإدارة"})})})]})]})]})})]})]})}export{xt as default};

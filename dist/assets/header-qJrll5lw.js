import{u as v,a as L,b as D,r as k,j as e,L as t,U as d,B as m}from"./index-ZYzdAsGm.js";import{B as C,D as M,b as B,U as p,a as u,c as S,d as l,e as i,S as E,L as T}from"./dropdown-menu-C5FzIU9D.js";function F(){const{user:s,family:n,logoutMutation:w,dualRole:c,currentDashboard:r,chooseDashboard:h}=v(),[,x]=L(),{settings:a}=D();k.useEffect(()=>{a.siteTitle&&(document.title=a.siteTitle),a.language&&(document.documentElement.lang=a.language,document.body.dir=a.language==="ar"?"rtl":"ltr")},[a.siteTitle,a.language]);const N=()=>{w.mutate()},o=()=>{r==="admin"?(h("head"),x("/dashboard")):(h("admin"),x("/admin"))},j=g=>{switch(g){case"root":return"مشرف رئيسي";case"admin":return"مشرف";case"head":return(n==null?void 0:n.headGender)==="female"?"ربة أسرة":"رب أسرة";default:return g}},f=()=>(s==null?void 0:s.role)==="head"?"/dashboard":"/admin",b=()=>(s==null?void 0:s.role)==="head"&&(n!=null&&n.husbandName)?n.husbandName:(s==null?void 0:s.username)||"";return e.jsx("header",{className:"bg-background shadow-sm border-b border-border no-print",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-12 sm:h-14 md:h-16",children:[e.jsx("div",{className:"flex items-center min-w-0 flex-1",children:e.jsx(t,{href:f(),children:e.jsxs("div",{className:"flex items-center cursor-pointer min-w-0",children:[e.jsx("div",{className:"flex-shrink-0",children:a.siteLogo?e.jsx("img",{src:a.siteLogo,alt:"Logo",className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 rounded"}):e.jsx(d,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8 text-primary"})}),e.jsx("div",{className:"mr-2 sm:mr-3 md:mr-4 min-w-0 flex-1",children:e.jsx("h1",{className:"text-sm sm:text-base md:text-lg font-semibold text-foreground truncate",children:a.siteName||"نظام إدارة البيانات العائلية"})})]})})}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 md:space-x-4 space-x-reverse",children:[c&&(s==null?void 0:s.role)!=="root"&&e.jsxs(m,{variant:"outline",size:"sm",onClick:o,className:"hidden lg:inline-flex text-xs lg:text-sm px-2 lg:px-3 h-7 sm:h-8 lg:h-9 whitespace-nowrap",children:[e.jsx("span",{className:"hidden xl:inline",children:r==="admin"?"التبديل إلى لوحة تحكم رب الأسرة":"التبديل إلى لوحة تحكم المشرف"}),e.jsx("span",{className:"xl:hidden",children:r==="admin"?"تبديل إلى رب أسرة":"تبديل إلى مشرف"})]}),(s==null?void 0:s.role)==="head"&&e.jsx(t,{href:"/dashboard/notifications",children:e.jsx(m,{variant:"ghost",size:"sm",className:"relative h-7 w-7 sm:h-8 sm:w-8 md:h-9 md:w-9 p-1",children:e.jsx(C,{className:"h-3 w-3 sm:h-4 sm:w-4 md:h-5 md:w-5"})})}),e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(m,{variant:"ghost",className:"flex items-center space-x-1 sm:space-x-2 space-x-reverse h-auto p-1 sm:p-2",children:[e.jsx(p,{className:"h-3 w-3 sm:h-4 sm:w-4 md:h-5 md:w-5 flex-shrink-0"}),e.jsxs("div",{className:"hidden sm:flex flex-col items-start min-w-0",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-foreground truncate max-w-20 sm:max-w-32 lg:max-w-40",children:b()}),e.jsx(u,{variant:"outline",className:"text-xs",children:j((s==null?void 0:s.role)||"")})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx(u,{variant:"outline",className:"text-xs px-1",children:j((s==null?void 0:s.role)||"").charAt(0)})})]})}),e.jsxs(S,{align:"end",className:"w-48 sm:w-56",children:[c&&(s==null?void 0:s.role)!=="root"&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{onClick:o,className:"text-sm lg:hidden",children:[e.jsx(d,{className:"h-4 w-4 ml-2"}),e.jsx("span",{children:r==="admin"?"تبديل إلى رب الأسرة":"تبديل إلى المشرف"})]}),e.jsx(i,{className:"lg:hidden"})]}),e.jsx(t,{href:"/dashboard/profile",children:e.jsxs(l,{className:"text-sm",children:[e.jsx(p,{className:"h-4 w-4 ml-2"}),e.jsx("span",{children:"الملف الشخصي"})]})}),(s==null?void 0:s.role)==="root"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx(t,{href:"/admin/settings",children:e.jsxs(l,{className:"text-sm",children:[e.jsx(E,{className:"h-4 w-4 ml-2"}),e.jsx("span",{children:"الإعدادات"})]})})]}),(s==null?void 0:s.role)==="head"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx(t,{href:"/dashboard/family",children:e.jsxs(l,{className:"text-sm",children:[e.jsx(d,{className:"h-4 w-4 ml-2"}),e.jsx("span",{children:"بيانات الأسرة"})]})}),e.jsx(t,{href:"/dashboard/print-summary",children:e.jsxs(l,{className:"text-sm",children:[e.jsx(d,{className:"h-4 w-4 ml-2"}),e.jsx("span",{children:"طباعة البيانات"})]})})]}),e.jsx(i,{}),e.jsxs(l,{onClick:N,className:"text-sm text-destructive hover:text-destructive hover:bg-destructive/10",children:[e.jsx(T,{className:"h-4 w-4 ml-2"}),e.jsx("span",{children:"تسجيل الخروج"})]})]})]})]})]})})})}export{F as H};

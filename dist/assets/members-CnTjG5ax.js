import{t as Be,r as i,c as re,b as Re,j as e,C as D,d as S,U as K,e as ie,f as ne,I as G,S as j,m as b,n as N,p as v,q as n,B as x,y as Pe,M as ee,N as ce,L as de,k as Oe,g as Ue}from"./index-ZYzdAsGm.js";import{U as oe,a as xe}from"./dropdown-menu-C5FzIU9D.js";import{D as Ve,d as $e,a as We,b as _e,c as qe,f as Ye}from"./dialog-S7UO55CL.js";import{C as Ge}from"./checkbox-CHn6FT0V.js";import{P as he,D as He}from"./page-wrapper-DEQQYva8.js";import{E as Je}from"./exceljs.min-C7FvAONt.js";import{S as Qe}from"./search-DU3OcRQB.js";import{F as ue}from"./file-text-WTwHpCUH.js";import"./index-CvI2JamZ.js";import"./baby-B20HtjzY.js";function ns(){const{toast:se}=Be(),[g,me]=i.useState(""),[u,ge]=i.useState(""),[m,pe]=i.useState(""),[F,fe]=i.useState("all"),[L,je]=i.useState("all"),[M,be]=i.useState("all"),[z,Ne]=i.useState("all"),[B,ve]=i.useState("all"),[R,ye]=i.useState("all"),[P,we]=i.useState("all"),[h,O]=i.useState(1),H=20,{data:I,isLoading:Ce}=re({queryKey:["/api/admin/families"]}),{data:J,isLoading:ke}=re({queryKey:["/api/admin/orphans"]}),y=i.useMemo(()=>{let s=[];return Array.isArray(I)&&I.forEach(l=>{Array.isArray(l.members)&&l.members.forEach(r=>{let a=0;if(r.birthDate){const c=new Date,d=new Date(r.birthDate);a=c.getFullYear()-d.getFullYear();const o=c.getMonth()-d.getMonth();(o<0||o===0&&c.getDate()<d.getDate())&&a--}s.push({...r,familyId:l.id,familyName:l.husbandName,familyPrimaryPhone:l.primaryPhone,branch:l.branch,socialStatus:l.socialStatus,age:a,type:"member",disabilityType:r.isDisabled?r.disabilityType||"غير محدد":"",chronicIllnessType:r.hasChronicIllness?r.chronicIllnessType||"غير محدد":""})})}),Array.isArray(J)&&J.forEach(l=>{let r=0;if(l.orphanBirthDate){const c=new Date,d=new Date(l.orphanBirthDate);r=c.getFullYear()-d.getFullYear();const o=c.getMonth()-d.getMonth();(o<0||o===0&&c.getDate()<d.getDate())&&r--}const a=Array.isArray(I)?I.find(c=>c.id===l.familyId):null;s.push({id:l.id,fullName:l.orphanName,memberID:l.orphanID,birthDate:l.orphanBirthDate,gender:l.gender,isDisabled:!!l.isDisabled,hasChronicIllness:!!l.hasChronicIllness,disabilityType:l.isDisabled?l.disabilityType||"غير محدد":"",chronicIllnessType:l.hasChronicIllness?l.chronicIllnessType||"غير محدد":"",familyId:l.familyId,familyName:(a==null?void 0:a.husbandName)||"غير محدد",familyPrimaryPhone:a==null?void 0:a.primaryPhone,branch:(a==null?void 0:a.branch)||"غير محدد",socialStatus:(a==null?void 0:a.socialStatus)||"غير محدد",age:r,type:"orphan",relationship:"orphan"})}),s},[I,J]),De=Ce||ke,T=i.useMemo(()=>y.filter(s=>{var f,W,_;const l=g===""||((f=s.fullName)==null?void 0:f.toLowerCase().includes(g.toLowerCase()))||((W=s.memberID)==null?void 0:W.toLowerCase().includes(g.toLowerCase()))||((_=s.familyName)==null?void 0:_.toLowerCase().includes(g.toLowerCase())),r=F==="all"||s.gender===F,a=L==="all"||s.relationship===L,c=M==="all"||(M==="yes"?s.isDisabled:!s.isDisabled),d=z==="all"||(z==="yes"?s.hasChronicIllness:!s.hasChronicIllness),o=u===""&&m===""||(()=>{const A=parseInt(u)||0,k=parseInt(m)||1/0;return u!==""&&m===""?s.age>=A:u===""&&m!==""?s.age<=k:u!==""&&m!==""?s.age>=A&&s.age<=k:!0})(),X=B==="all"||B===s.type,$=R==="all"||s.branch===R,Z=P==="all"||s.socialStatus===P;return l&&r&&a&&c&&d&&o&&X&&$&&Z}),[y,g,F,L,M,z,B,R,P,u,m]),Se=[{value:"son",label:"ابن"},{value:"daughter",label:"ابنة"},{value:"mother",label:"أم"},{value:"father",label:"أب"},{value:"brother",label:"أخ"},{value:"sister",label:"أخت"},{value:"grandfather",label:"جد"},{value:"grandmother",label:"جدة"},{value:"uncle",label:"عم"},{value:"aunt",label:"عمة"},{value:"orphan",label:"يتيم"},{value:"other",label:"أخرى"}],Ie=[{value:"abushalbia",label:"ابو شلبية (شلف - علاينة - عزايزة)"},{value:"alnaqra",label:"النقرة (الدوار)"},{value:"abuawda",label:"ابو عودة"},{value:"abunasr",label:"ابو نصر"},{value:"abumatar",label:"ابو مطر"}],Te=[{value:"married",label:"متزوج"},{value:"polygamous",label:"متعدد زوجات"},{value:"widowed",label:"ارملة"},{value:"vulnerable_family",label:"اسر هشة (ايتام)"},{value:"abandoned",label:"متروكة"},{value:"divorced",label:"مطلقة"},{value:"single",label:"عانس"}],{settings:p}=Re();i.useEffect(()=>{p.siteTitle&&(document.title=p.siteTitle),p.language&&(document.documentElement.lang=p.language,document.body.dir=p.language==="ar"?"rtl":"ltr")},[p.siteTitle,p.language]);const w=i.useMemo(()=>[{key:"fullName",label:"الاسم",checked:!0},{key:"age",label:"العمر",checked:!0},{key:"gender",label:"الجنس",checked:!0},{key:"relationship",label:"العلاقة",checked:!0},{key:"memberID",label:"رقم الهوية",checked:!0},{key:"birthDate",label:"تاريخ الميلاد",checked:!0},{key:"familyName",label:"اسم رب الأسرة",checked:!0},{key:"type",label:"حالة الفرد",checked:!0},{key:"branch",label:"فرع العائلة",checked:!0},{key:"socialStatus",label:"الحالة الاجتماعية",checked:!0},{key:"isDisabled",label:"هل لديه إعاقة",checked:!0},{key:"hasChronicIllness",label:"هل لديه مرض مزمن",checked:!0},{key:"disabilityType",label:"نوع الإعاقة",checked:!0},{key:"chronicIllnessType",label:"نوع المرض المزمن",checked:!0}],[]),[te,U]=i.useState({}),[Ee,Q]=i.useState(!1),[E,le]=i.useState("");i.useEffect(()=>{U(s=>{const l={};for(const r of w)l[r.key]=s[r.key]!==void 0?s[r.key]:r.checked;return l})},[w]);const Ae=s=>{U(l=>({...l,[s]:!l[s]}))},Fe=()=>{U(Object.fromEntries(w.map(s=>[s.key,!0])))},Le=()=>{U(Object.fromEntries(w.map(s=>[s.key,!1])))},C=w.filter(s=>te[s.key]),Me=async()=>{try{const s=new Je.Workbook,l=s.addWorksheet("الأفراد",{views:[{rightToLeft:!0}]}),r={fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFC8E6C9"}},font:{color:{argb:"FF000000"},bold:!0,size:16},alignment:{horizontal:"center",vertical:"middle"}},a={fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFC8E6C9"}},font:{color:{argb:"FF000000"},bold:!0,size:12},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},c={alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}},d=Array(C.length).fill("");d[0]="بيانات الأفراد (تصدير)";const o=l.addRow(d);o.height=30;const X=l.getColumn(C.length).letter;l.mergeCells(`A1:${X}1`),o.getCell(1).style=r,o.getCell(1).alignment={horizontal:"center",vertical:"middle"};const $=l.addRow(C.map(t=>t.label));$.height=35,$.eachCell(t=>{t.style=a,t.alignment={...a.alignment,wrapText:!0}}),T.forEach(t=>{const q=C.map(Y=>{switch(Y.key){case"fullName":return t.fullName||"";case"age":return t.age||"";case"gender":return ee(t.gender)||"";case"relationship":return t.type==="orphan"?"يتيم":ce(t.relationship)||"";case"memberID":return t.memberID||"";case"birthDate":return t.birthDate||"";case"familyName":return t.familyName||"";case"type":return t.type==="member"?"فرد عائلة":"يتيم";case"branch":return Ue(t.branch)||"";case"socialStatus":return Oe(t.socialStatus)||"";case"isDisabled":return t.isDisabled?"نعم":"لا";case"hasChronicIllness":return t.hasChronicIllness?"نعم":"لا";case"disabilityType":return t.disabilityType||"";case"chronicIllnessType":return t.chronicIllnessType||"";default:return""}}),ae=l.addRow(q);ae.height=25,ae.eachCell(Y=>{Y.style=c,Y.alignment={...c.alignment,wrapText:!0}})});const Z=t=>t.includes("fullName")||t.includes("familyName")||t.includes("name")||t.includes("اسم")||t.includes("Notes")||t.includes("ملاحظات")||t.includes("disabilityType")||t.includes("chronicIllnessType")?30:t.includes("branch")||t.includes("frع")||t.includes("socialStatus")||t.includes("الحالة")?28:t.includes("Phone")||t.includes("جوال")?24:t.includes("ID")||t.includes("هوية")||t.includes("BirthDate")||t.includes("ميلاد")||t.includes("birthDate")||t.includes("Date")?20:t.includes("age")||t.includes("عمر")||t.includes("type")||t.includes("gender")||t.includes("isDisabled")||t.includes("hasChronicIllness")?18:22;C.forEach((t,q)=>{l.getColumn(q+1).width=Z(C[q].key)});let f;E.trim()?f=E.trim().endsWith(".xlsx")?E.trim():E.trim()+".xlsx":f=`members_export_${new Date().toISOString().split("T")[0]}.xlsx`;const W=await s.xlsx.writeBuffer(),_=new Blob([W],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),A=window.URL.createObjectURL(_),k=document.createElement("a");k.href=A,k.download=f,k.click(),window.URL.revokeObjectURL(A),se({title:"تم التصدير بنجاح",description:`تم حفظ ملف Excel باسم: ${f}`}),le(""),Q(!1)}catch(s){console.error("Error exporting to Excel:",s),se({title:"خطأ في التصدير",description:"حدث خطأ أثناء تصدير البيانات إلى Excel",variant:"destructive"})}},ze=T.slice((h-1)*H,h*H),V=Math.ceil(T.length/H);return De?e.jsx(he,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-muted-foreground",children:"جاري تحميل البيانات..."})})}):e.jsx(he,{children:e.jsxs("div",{className:"space-y-6 w-full min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"إدارة الأفراد واليتم"}),e.jsx("p",{className:"text-muted-foreground",children:"عرض وإدارة بيانات جميع أفراد الأسر واليتم (الأبناء، البنات، والأيتام)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(D,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(K,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"mr-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي الأفراد"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:y.length})]})]})})}),e.jsx(D,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(oe,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"mr-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"الذكور"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:y.filter(s=>s.gender==="male").length})]})]})})}),e.jsx(D,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-pink-100 rounded-lg",children:e.jsx(oe,{className:"h-6 w-6 text-pink-600"})}),e.jsxs("div",{className:"mr-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"الإناث"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:y.filter(s=>s.gender==="female").length})]})]})})}),e.jsx(D,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(K,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"mr-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"تحت 18 سنة"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:y.filter(s=>s.age<18).length})]})]})})})]}),e.jsxs(D,{className:"mb-8",children:[e.jsx(ie,{children:e.jsx(ne,{children:"البحث والتصفية"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",dir:"rtl",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"البحث بالاسم، رقم الهوية، أو اسم الأسرة...",value:g,onChange:s=>me(s.target.value),className:"pl-10 text-right",dir:"rtl"})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"mb-1 text-sm text-foreground text-center w-full",children:"العمر"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"من - إلى"}),e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx(G,{type:"number",min:"0",max:"150",value:u,onChange:s=>ge(s.target.value),placeholder:"من",className:"text-xs text-right",dir:"rtl"}),e.jsx(G,{type:"number",min:"0",max:"150",value:m,onChange:s=>pe(s.target.value),placeholder:"إلى",className:"text-xs text-right",dir:"rtl"})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"mb-1 text-sm text-foreground text-center w-full",children:"الجنس"}),e.jsxs(j,{value:F,onValueChange:fe,dir:"rtl",children:[e.jsx(b,{className:"w-full text-right",dir:"rtl",children:e.jsx(N,{className:"text-right"})}),e.jsxs(v,{dir:"rtl",children:[e.jsx(n,{value:"all",children:"كلا الجنسين"}),e.jsx(n,{value:"male",children:"ذكر"}),e.jsx(n,{value:"female",children:"أنثى"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"mb-1 text-sm text-foreground text-center w-full",children:"العلاقة"}),e.jsxs(j,{value:L,onValueChange:je,dir:"rtl",children:[e.jsx(b,{className:"w-full text-right",dir:"rtl",children:e.jsx(N,{className:"text-right"})}),e.jsxs(v,{dir:"rtl",children:[e.jsx(n,{value:"all",children:"جميع العلاقات"}),Se.map(s=>e.jsx(n,{value:s.value,children:s.label},s.value))]})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"mb-1 text-sm text-foreground text-center w-full",children:"الإعاقة"}),e.jsxs(j,{value:M,onValueChange:be,dir:"rtl",children:[e.jsx(b,{className:"w-full text-right",dir:"rtl",children:e.jsx(N,{className:"text-right"})}),e.jsxs(v,{dir:"rtl",children:[e.jsx(n,{value:"all",children:"جميع الحالات"}),e.jsx(n,{value:"yes",children:"موجودة"}),e.jsx(n,{value:"no",children:"غير موجودة"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"mb-1 text-sm text-foreground text-center w-full",children:"مرض مزمن"}),e.jsxs(j,{value:z,onValueChange:Ne,dir:"rtl",children:[e.jsx(b,{className:"w-full text-right",dir:"rtl",children:e.jsx(N,{className:"text-right"})}),e.jsxs(v,{dir:"rtl",children:[e.jsx(n,{value:"all",children:"جميع الحالات"}),e.jsx(n,{value:"yes",children:"موجود"}),e.jsx(n,{value:"no",children:"غير موجود"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"mb-1 text-sm text-foreground text-center w-full",children:"نوع الفرد"}),e.jsxs(j,{value:B,onValueChange:ve,dir:"rtl",children:[e.jsx(b,{className:"w-full text-right",dir:"rtl",children:e.jsx(N,{className:"text-right"})}),e.jsxs(v,{dir:"rtl",children:[e.jsx(n,{value:"all",children:"جميع الأنواع"}),e.jsx(n,{value:"member",children:"عضو عائلة"}),e.jsx(n,{value:"orphan",children:"يتيـم"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"mb-1 text-sm text-foreground text-center w-full",children:"الفرع"}),e.jsxs(j,{value:R,onValueChange:ye,dir:"rtl",children:[e.jsx(b,{className:"w-full text-right",dir:"rtl",children:e.jsx(N,{className:"text-right"})}),e.jsxs(v,{dir:"rtl",children:[e.jsx(n,{value:"all",children:"جميع الأفرع"}),Ie.map(s=>e.jsx(n,{value:s.value,children:s.label},s.value))]})]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"mb-1 text-sm text-foreground text-center w-full",children:"الحالة الاجتماعية"}),e.jsxs(j,{value:P,onValueChange:we,dir:"rtl",children:[e.jsx(b,{className:"w-full text-right",dir:"rtl",children:e.jsx(N,{className:"text-right"})}),e.jsxs(v,{dir:"rtl",children:[e.jsx(n,{value:"all",children:"جميع الحالات"}),Te.map(s=>e.jsx(n,{value:s.value,children:s.label},s.value))]})]})]})]})]})})]}),e.jsxs(D,{children:[e.jsxs(ie,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs(ne,{children:["قائمة الأفراد (",T.length,")"]}),e.jsxs(Ve,{open:Ee,onOpenChange:Q,children:[e.jsx($e,{asChild:!0,children:e.jsxs(x,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx("span",{children:"تصدير إلى Excel"})]})}),e.jsxs(We,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",dir:"rtl",children:[e.jsx(_e,{children:e.jsx(qe,{children:"تصدير الأفراد إلى Excel"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-foreground",children:"أعمدة التصدير"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"حدد الأعمدة المراد تضمينها في التصدير"})]}),e.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[e.jsx(x,{type:"button",variant:"outline",size:"sm",onClick:Fe,children:"تحديد الكل"}),e.jsx(x,{type:"button",variant:"outline",size:"sm",onClick:Le,children:"إلغاء التحديد"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 max-h-64 overflow-y-auto p-2 border rounded-md",children:w.map(s=>e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx(Ge,{id:`col-${s.key}`,checked:te[s.key],onCheckedChange:()=>Ae(s.key)}),e.jsx("label",{htmlFor:`col-${s.key}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:s.label})]},s.key))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"اسم الملف المخصص (اختياري)"}),e.jsx(G,{type:"text",value:E,onChange:s=>le(s.target.value),placeholder:"أدخل اسم الملف المخصص لتصدير Excel",dir:"rtl"})]})]}),e.jsxs(Ye,{className:"flex sm:justify-between sm:space-x-3 sm:space-x-reverse",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>Q(!1),children:"إلغاء"}),e.jsx(x,{type:"button",onClick:Me,children:"تصدير"})]})]})]})]}),e.jsx(S,{children:T.length>0?e.jsxs("div",{className:"overflow-x-auto w-full",children:[e.jsxs("table",{className:"w-full min-w-[800px]",children:[e.jsx("thead",{className:"bg-background",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 md:px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"الاسم"}),e.jsx("th",{className:"px-3 md:px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"رقم الهوية"}),e.jsx("th",{className:"px-3 md:px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"العمر"}),e.jsx("th",{className:"px-3 md:px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"الجنس"}),e.jsx("th",{className:"px-3 md:px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"العلاقة"}),e.jsx("th",{className:"px-3 md:px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"اسم رب الأسرة"}),e.jsx("th",{className:"px-3 md:px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"bg-card divide-y divide-border",children:ze.map(s=>e.jsxs("tr",{className:"hover:bg-muted",children:[e.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground",children:s.fullName}),e.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-sm text-foreground",children:s.memberID||"غير محدد"}),e.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-sm text-foreground",children:Pe(s.birthDate)}),e.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-sm text-foreground",children:s.type==="orphan"?s.gender?ee(s.gender):"غير محدد":s.gender?ee(s.gender):"غير محدد"}),e.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-sm text-foreground",children:s.type==="orphan"?"يتيم":ce(s.relationship)}),e.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-sm text-foreground",children:s.familyName}),e.jsx("td",{className:"px-3 md:px-6 py-4 text-sm",children:e.jsxs("div",{className:"flex flex-wrap gap-1 md:flex-nowrap md:space-x-2 md:space-x-reverse min-w-[140px]",children:[s.type==="orphan"?e.jsx(de,{href:"/admin/orphans",children:e.jsx(x,{variant:"outline",size:"sm",className:"w-8 h-8 p-0",children:e.jsx(ue,{className:"h-4 w-4"})})}):e.jsx(de,{href:`/admin/families/${s.familyId}/edit`,children:e.jsx(x,{variant:"outline",size:"sm",className:"w-8 h-8 p-0",children:e.jsx(ue,{className:"h-4 w-4"})})}),s.isDisabled&&e.jsx(xe,{variant:"destructive",className:"text-xs mr-2",children:"إعاقة"}),s.hasChronicIllness&&e.jsx(xe,{variant:"outline",className:"text-xs",children:"مرض مزمن"})]})})]},s.id))})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",disabled:h===1,onClick:()=>O(1),children:"الأول"}),e.jsx(x,{variant:"outline",size:"sm",disabled:h===1,onClick:()=>O(h-1),children:"السابق"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["صفحة ",h," من ",V]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:"outline",size:"sm",disabled:h===V,onClick:()=>O(h+1),children:"التالي"}),e.jsx(x,{variant:"outline",size:"sm",disabled:h===V,onClick:()=>O(V),children:"الأخير"})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(K,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:g||u||m?"لا توجد أفراد تطابق معايير البحث":"لا توجد أفراد مسجلين"})]})})]})]})})}export{ns as default};
